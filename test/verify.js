var Tlsnutils = artifacts.require("installed_contracts/tlsnutils");

contract('tlsnutils', function(accounts, app) {

  it("A proof should verify", function() {
    var betJSON =
    "\x20\x00\x10\x00\xff\xff\x03\x00\x83\xc6\xba\x47\xf1\x6b\x05\x00\x0c\x9b\xbf\x47\xf1\x6b\x05\x00\x40\x00\x00\x00\x04\x00\x00\x00\x1b\xe5\x6e\xbb\xeb\x64\xac\x38\x17\x85\x27\xbd\x6c\xcb\x78\xdf\xf9\xf0\x68\xd9\x90\x34\xdd\xc5\xa7\xe6\xfb\x9f\xd2\xde\xb0\xfe\x05\x82\xe0\xdd\x14\x36\x99\x98\x91\xe0\xa4\x00\xd4\x4e\xf2\x22\x35\xef\xc5\x13\xea\x29\x75\xb4\xd7\xb2\x92\x5c\x2c\x93\x76\xc8\x02\x95\x00\x00\x47\x45\x54\x20\x2f\x70\x72\x6f\x78\x79\x2e\x70\x79\x3f\x75\x72\x6c\x3d\x68\x74\x74\x70\x25\x33\x41\x2f\x2f\x61\x70\x69\x2e\x66\x6f\x6f\x74\x62\x61\x6c\x6c\x2d\x64\x61\x74\x61\x2e\x6f\x72\x67\x2f\x76\x31\x2f\x66\x69\x78\x74\x75\x72\x65\x73\x2f\x31\x35\x38\x39\x34\x36\x25\x33\x46\x68\x65\x61\x64\x32\x68\x65\x61\x64\x25\x33\x44\x30\x20\x48\x54\x54\x50\x2f\x31\x2e\x31\x0d\x0a\x48\x6f\x73\x74\x3a\x20\x74\x6c\x73\x70\x72\x6f\x6f\x66\x2e\x62\x61\x73\x74\x69\x65\x6e\x2e\x74\x65\x63\x68\x0d\x0a\x43\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x3a\x20\x6b\x65\x65\x70\x2d\x61\x6c\x69\x76\x65\x0d\x0a\x0d\x0a\x37\x8b\x6f\x56\x7f\xaf\xad\x55\x3a\x38\x87\x2e\x21\x60\xf6\xb2\x02\xda\x01\x01\x48\x54\x54\x50\x2f\x31\x2e\x31\x20\x32\x30\x30\x20\x4f\x4b\x0d\x0a\x44\x61\x74\x65\x3a\x20\x46\x72\x69\x2c\x20\x31\x31\x20\x4d\x61\x79\x20\x32\x30\x31\x38\x20\x31\x37\x3a\x31\x35\x3a\x31\x38\x20\x47\x4d\x54\x0d\x0a\x53\x65\x72\x76\x65\x72\x3a\x20\x41\x70\x61\x63\x68\x65\x2f\x32\x2e\x34\x2e\x31\x38\x20\x28\x55\x62\x75\x6e\x74\x75\x29\x0d\x0a\x43\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x3a\x20\x63\x6c\x6f\x73\x65\x0d\x0a\x58\x2d\x41\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2d\x43\x6f\x6e\x74\x65\x78\x74\x3a\x20\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x3a\x70\x72\x6f\x64\x75\x63\x74\x69\x6f\x6e\x0d\x0a\x58\x2d\x52\x65\x71\x75\x65\x73\x74\x73\x2d\x41\x76\x61\x69\x6c\x61\x62\x6c\x65\x3a\x20\x34\x38\x0d\x0a\x58\x2d\x52\x65\x71\x75\x65\x73\x74\x43\x6f\x75\x6e\x74\x65\x72\x2d\x52\x65\x73\x65\x74\x3a\x20\x32\x33\x0d\x0a\x41\x63\x63\x65\x73\x73\x2d\x43\x6f\x6e\x74\x72\x6f\x6c\x2d\x41\x6c\x6c\x6f\x77\x2d\x4f\x72\x69\x67\x69\x6e\x3a\x20\x2a\x0d\x0a\x41\x63\x63\x65\x73\x73\x2d\x43\x6f\x6e\x74\x72\x6f\x6c\x2d\x41\x6c\x6c\x6f\x77\x2d\x43\x72\x65\x64\x65\x6e\x74\x69\x61\x6c\x73\x3a\x20\x74\x72\x75\x65\x0d\x0a\x41\x63\x63\x65\x73\x73\x2d\x43\x6f\x6e\x74\x72\x6f\x6c\x2d\x41\x6c\x6c\x6f\x77\x2d\x4d\x65\x74\x68\x6f\x64\x73\x3a\x20\x47\x45\x54\x0d\x0a\x58\x2d\x41\x75\x74\x68\x65\x6e\x74\x69\x63\x61\x74\x65\x64\x2d\x43\x6c\x69\x65\x6e\x74\x3a\x20\x4e\x69\x6a\x61\x74\x20\x42\x61\x6b\x68\x0d\x0a\x58\x2d\x41\x50\x49\x2d\x56\x65\x72\x73\x69\x6f\x6e\x3a\x20\x76\x31\x0d\x0a\x58\x2d\x52\x65\x73\x70\x6f\x6e\x73\x65\x2d\x43\x6f\x6e\x74\x72\x6f\x6c\x3a\x20\x6d\x69\x6e\x69\x66\x69\x65\x64\x0d\x0a\x54\x72\x61\x6e\x73\x66\x65\x72\x2d\x45\x6e\x63\x6f\x64\x69\x6e\x67\x3a\x20\x63\x68\x75\x6e\x6b\x65\x64\x0d\x0a\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x79\x70\x65\x3a\x20\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e\x3b\x63\x68\x61\x72\x73\x65\x74\x3d\x55\x54\x46\x2d\x38\x0d\x0a\x0d\x0a\xfb\x92\x1c\xfa\x5a\xce\x7a\x63\xe4\xb4\x2c\x16\xa2\xbc\xe1\x2d\x02\x17\x01\x01\x31\x30\x62\x0d\x0a\x7b\x22\x66\x69\x78\x74\x75\x72\x65\x22\x3a\x7b\x22\x69\x64\x22\x3a\x31\x35\x38\x39\x34\x36\x2c\x22\x63\x6f\x6d\x70\x65\x74\x69\x74\x69\x6f\x6e\x49\x64\x22\x3a\x34\x34\x35\x2c\x22\x64\x61\x74\x65\x22\x3a\x22\x32\x30\x31\x38\x2d\x30\x35\x2d\x31\x33\x54\x31\x34\x3a\x30\x30\x3a\x30\x30\x5a\x22\x2c\x22\x73\x74\x61\x74\x75\x73\x22\x3a\x22\x54\x49\x4d\x45\x44\x22\x2c\x22\x6d\x61\x74\x63\x68\x64\x61\x79\x22\x3a\x33\x38\x2c\x22\x68\x6f\x6d\x65\x54\x65\x61\x6d\x4e\x61\x6d\x65\x22\x3a\x22\x42\x75\x72\x6e\x6c\x65\x79\x20\x46\x43\x22\x2c\x22\x68\x6f\x6d\x65\x54\x65\x61\x6d\x49\x64\x22\x3a\x33\x32\x38\x2c\x22\x61\x77\x61\x79\x54\x65\x61\x6d\x4e\x61\x6d\x65\x22\x3a\x22\x41\x46\x43\x20\x42\x6f\x75\x72\x6e\x65\x6d\x6f\x75\x74\x68\x22\x2c\x22\x61\x77\x61\x79\x54\x65\x61\x6d\x49\x64\x22\x3a\x31\x30\x34\x34\x2c\x22\x72\x65\x73\x75\x6c\x74\x22\x3a\x7b\x22\x67\x6f\x61\x6c\x73\x48\x6f\x6d\x65\x54\x65\x61\x6d\x22\x3a\x6e\x75\x6c\x6c\x2c\x22\x67\x6f\x61\x6c\x73\x41\x77\x61\x79\x54\x65\x61\x6d\x22\x3a\x6e\x75\x6c\x6c\x7d\x2c\x22\x6f\x64\x64\x73\x22\x3a\x6e\x75\x6c\x6c\x7d\x7d\x0d\x0a\x30\x0d\x0a\x0d\x0a\x7e\xcb\xc5\x44\x2b\xd2\xd3\x4e\xf1\xc4\xb6\x8f\xec\xd8\xc6\x4f";
    var qx = '0xe0a5793d275a533d50421b201c2c9a909abb58b1a9c0f9eb9b7963e5c8bc2295';
    var qy = '0xf34d47cb92b6474562675127677d4e446418498884c101aeb38f3afb0cab997e';

    return Tlsnutils.deployed().then(function(instance) {
      return instance.verifyProof.call(betJSON, qx, qy);
    }).then(function(verify){
      assert.equal(verify, true, "verfication failed");
    });
  });
});
